# pd_to_diagram
给定一个扭结的 PD_CODE 试图构建一个扭结图



## PD_CODE 规则

- 同一个连通分支扭结弧线编号一定是连续的一段整数
- 交叉点编号采用，从下方进入的弧线处开始，逆时针记录每一个弧线编号



## 基本思想

- 将所有的交叉点放置在网格图上（如果有 N 个交叉点，2N\*2N 的网格图），每个交叉点有四个插头，有四种可用方向
  - 每一个交叉点需要占据东西南北中五个网格格点
- 依次连接具有相同编号的插头，优先连接距离近的（使用最短路算法，允许走斜边，每个点可以走八连通）
- 使用模拟退火进行优化：最小化交叉点之间的最大距离，以及总的走线长度



## 模拟退火

- 每次选择一个交叉点去随机选择一个新的位置和方向
- 优化目标是：K1\*交叉点间最大距离 + K2\*总的走线长度 (让 K1 比 K2 大，优先缩小扭结范围)
- 如果遇到了当前按照最短路无法连接的情况，就认为当前布局不合法，即目标函数为无穷大

